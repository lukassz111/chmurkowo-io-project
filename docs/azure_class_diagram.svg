<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="815px" preserveAspectRatio="none" style="width:2670px;height:815px;" version="1.1" viewBox="0 0 2670 815" width="2670px" zoomAndPan="magnify"><defs><filter height="300%" id="f112zz2acdnmga" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[95a08b9a71088872119887ba0338fc43]
class ErrorCodes--><rect codeLine="1" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="112.0234" id="ErrorCodes" style="stroke:#A80036;stroke-width:1.5;" width="212" x="179" y="7"/><ellipse cx="246.25" cy="23" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M245.0469,23.875 L246.5,23.875 L246.5,23.9844 C246.5,24.3906 246.5313,24.5469 246.6094,24.7031 C246.7656,24.9531 247.0469,25.1094 247.3438,25.1094 C247.5938,25.1094 247.8594,24.9688 248.0156,24.75 C248.1406,24.5938 248.1719,24.4375 248.1719,23.9844 L248.1719,22.0625 C248.1719,21.9063 248.1719,21.8594 248.1563,21.7031 C248.0938,21.2344 247.7813,20.9219 247.3281,20.9219 C247.0781,20.9219 246.8125,21.0625 246.6406,21.2813 C246.5313,21.4531 246.5,21.6094 246.5,22.0625 L246.5,22.1875 L245.0469,22.1875 L245.0469,19.7813 L249.0313,19.7813 L249.0313,20.6406 C249.0313,21.0469 249.0625,21.2188 249.1406,21.375 C249.3125,21.625 249.5938,21.7813 249.875,21.7813 C250.1406,21.7813 250.4063,21.6406 250.5781,21.4219 C250.6875,21.25 250.7188,21.1094 250.7188,20.6406 L250.7188,18.0938 L243.0938,18.0938 C242.6563,18.0938 242.5313,18.1094 242.375,18.2031 C242.125,18.3594 241.9688,18.6563 241.9688,18.9375 C241.9688,19.2188 242.1094,19.4688 242.3281,19.6406 C242.4844,19.75 242.6719,19.7813 243.0938,19.7813 L243.3438,19.7813 L243.3438,26.2969 L243.0938,26.2969 C242.6875,26.2969 242.5313,26.3125 242.375,26.4219 C242.125,26.5938 241.9688,26.8594 241.9688,27.1563 C241.9688,27.4219 242.1094,27.6719 242.3281,27.8281 C242.4688,27.9531 242.7031,28 243.0938,28 L251.0938,28 L251.0938,25.4219 C251.0938,24.9844 251.0625,24.8438 250.9844,24.6875 C250.8125,24.4375 250.5313,24.2813 250.25,24.2813 C249.9844,24.2813 249.7188,24.3906 249.5469,24.6406 C249.4375,24.7969 249.4063,24.9375 249.4063,25.4219 L249.4063,26.2969 L245.0469,26.2969 L245.0469,23.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="69" x="266.75" y="27.1543">ErrorCodes</text><line style="stroke:#A80036;stroke-width:1.5;" x1="180" x2="390" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="15" x="185" y="53.2104">Ok</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="185" y="66.0151">SomethingGetsWrong</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="185" y="78.8198">RequireArgument</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="185" y="91.6245">AddPinTooSmallOffset</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="185" y="104.4292">AddPinImageDoNotRepresentCloud</text><line style="stroke:#A80036;stroke-width:1.5;" x1="180" x2="390" y1="111.0234" y2="111.0234"/><!--MD5=[3a1871b7c9fce58960379ec654b76c23]
class ServiceResult--><rect codeLine="8" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="99.2188" id="ServiceResult" style="stroke:#A80036;stroke-width:1.5;" width="140" x="426" y="13.5"/><ellipse cx="448.2" cy="29.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M449.1531,26.2813 L450.8719,26.2813 C451.2625,26.2813 451.45,26.25 451.575,26.1719 C451.8406,26.0156 451.9813,25.7344 451.9813,25.4375 C451.9813,25.1719 451.8719,24.9063 451.6375,24.7344 C451.4656,24.625 451.325,24.5938 450.8719,24.5938 L445.7313,24.5938 C445.2938,24.5938 445.1688,24.6094 445.0125,24.7031 C444.7625,24.8594 444.6063,25.1563 444.6063,25.4375 C444.6063,25.7188 444.7469,25.9688 444.9656,26.1406 C445.1219,26.25 445.3094,26.2813 445.7313,26.2813 L447.45,26.2813 L447.45,32.7969 L445.7313,32.7969 C445.2938,32.7969 445.1688,32.8125 445.0125,32.9219 C444.7625,33.0781 444.6063,33.3594 444.6063,33.6563 C444.6063,33.9063 444.7469,34.1719 444.9656,34.3281 C445.1219,34.4531 445.325,34.5 445.7313,34.5 L450.8719,34.5 C451.6219,34.5 451.9813,34.2188 451.9813,33.6563 C451.9813,33.375 451.8719,33.125 451.6375,32.9531 C451.4656,32.8281 451.325,32.7969 450.8719,32.7969 L449.1531,32.7969 L449.1531,26.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="463.8" y="33.6543">ServiceResult</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="560" y="10.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="561" y="22.6387">T</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427" x2="565" y1="45.5" y2="45.5"/><ellipse cx="437" cy="56.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="446" y="59.7104">result: boolean</text><ellipse cx="437" cy="69.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="446" y="72.5151">value?: T</text><ellipse cx="437" cy="82.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="446" y="85.3198">errorCode?: number</text><ellipse cx="437" cy="94.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="446" y="98.1245">info: string</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427" x2="565" y1="104.7188" y2="104.7188"/><!--MD5=[897f4fd5a7d89710f95208ad94cb84ce]
class ResponseMeta--><rect codeLine="14" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="99.2188" id="ResponseMeta" style="stroke:#A80036;stroke-width:1.5;" width="175" x="601.5" y="13.5"/><ellipse cx="642.15" cy="29.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M643.1031,26.2813 L644.8219,26.2813 C645.2125,26.2813 645.4,26.25 645.525,26.1719 C645.7906,26.0156 645.9313,25.7344 645.9313,25.4375 C645.9313,25.1719 645.8219,24.9063 645.5875,24.7344 C645.4156,24.625 645.275,24.5938 644.8219,24.5938 L639.6813,24.5938 C639.2438,24.5938 639.1188,24.6094 638.9625,24.7031 C638.7125,24.8594 638.5563,25.1563 638.5563,25.4375 C638.5563,25.7188 638.6969,25.9688 638.9156,26.1406 C639.0719,26.25 639.2594,26.2813 639.6813,26.2813 L641.4,26.2813 L641.4,32.7969 L639.6813,32.7969 C639.2438,32.7969 639.1188,32.8125 638.9625,32.9219 C638.7125,33.0781 638.5563,33.3594 638.5563,33.6563 C638.5563,33.9063 638.6969,34.1719 638.9156,34.3281 C639.0719,34.4531 639.275,34.5 639.6813,34.5 L644.8219,34.5 C645.5719,34.5 645.9313,34.2188 645.9313,33.6563 C645.9313,33.375 645.8219,33.125 645.5875,32.9531 C645.4156,32.8281 645.275,32.7969 644.8219,32.7969 L643.1031,32.7969 L643.1031,26.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="86" x="661.85" y="33.6543">ResponseMeta</text><line style="stroke:#A80036;stroke-width:1.5;" x1="602.5" x2="775.5" y1="45.5" y2="45.5"/><ellipse cx="612.5" cy="56.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="621.5" y="59.7104">success: boolean</text><ellipse cx="612.5" cy="69.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="621.5" y="72.5151">info?: string</text><ellipse cx="612.5" cy="82.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="621.5" y="85.3198">info_request_body?: string</text><ellipse cx="612.5" cy="94.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="621.5" y="98.1245">error_code: number</text><line style="stroke:#A80036;stroke-width:1.5;" x1="602.5" x2="775.5" y1="104.7188" y2="104.7188"/><!--MD5=[62ba8ad8b61caf20139235a169a8c31d]
class Response--><rect codeLine="20" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="73.6094" id="Response" style="stroke:#A80036;stroke-width:1.5;" width="147" x="811.5" y="26"/><ellipse cx="852.6" cy="42" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M853.5531,38.7813 L855.2719,38.7813 C855.6625,38.7813 855.85,38.75 855.975,38.6719 C856.2406,38.5156 856.3813,38.2344 856.3813,37.9375 C856.3813,37.6719 856.2719,37.4063 856.0375,37.2344 C855.8656,37.125 855.725,37.0938 855.2719,37.0938 L850.1313,37.0938 C849.6938,37.0938 849.5688,37.1094 849.4125,37.2031 C849.1625,37.3594 849.0063,37.6563 849.0063,37.9375 C849.0063,38.2188 849.1469,38.4688 849.3656,38.6406 C849.5219,38.75 849.7094,38.7813 850.1313,38.7813 L851.85,38.7813 L851.85,45.2969 L850.1313,45.2969 C849.6938,45.2969 849.5688,45.3125 849.4125,45.4219 C849.1625,45.5781 849.0063,45.8594 849.0063,46.1563 C849.0063,46.4063 849.1469,46.6719 849.3656,46.8281 C849.5219,46.9531 849.725,47 850.1313,47 L855.2719,47 C856.0219,47 856.3813,46.7188 856.3813,46.1563 C856.3813,45.875 856.2719,45.625 856.0375,45.4531 C855.8656,45.3281 855.725,45.2969 855.2719,45.2969 L853.5531,45.2969 L853.5531,38.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="872.4" y="46.1543">Response</text><line style="stroke:#A80036;stroke-width:1.5;" x1="812.5" x2="957.5" y1="58" y2="58"/><ellipse cx="822.5" cy="69" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="831.5" y="72.2104">data: any</text><ellipse cx="822.5" cy="81.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="831.5" y="85.0151">meta: ResponseMeta</text><line style="stroke:#A80036;stroke-width:1.5;" x1="812.5" x2="957.5" y1="91.6094" y2="91.6094"/><!--MD5=[397e99737f2ed0514b477090c1b18d60]
class ResponseCreator--><rect codeLine="24" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="124.8281" id="ResponseCreator" style="stroke:#A80036;stroke-width:1.5;" width="556" x="7" y="211"/><ellipse cx="228.25" cy="227" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M230.5938,222.6719 C229.6563,222.2344 229.0625,222.0938 228.1875,222.0938 C225.5625,222.0938 223.5625,224.1719 223.5625,226.8906 L223.5625,228.0156 C223.5625,230.5938 225.6719,232.4844 228.5625,232.4844 C229.7813,232.4844 230.9375,232.1875 231.6875,231.6406 C232.2656,231.2344 232.5938,230.7813 232.5938,230.3906 C232.5938,229.9375 232.2031,229.5469 231.7344,229.5469 C231.5156,229.5469 231.3125,229.625 231.125,229.8125 C230.6719,230.2969 230.6719,230.2969 230.4844,230.3906 C230.0625,230.6563 229.375,230.7813 228.6094,230.7813 C226.5625,230.7813 225.2656,229.6875 225.2656,227.9844 L225.2656,226.8906 C225.2656,225.1094 226.5156,223.7969 228.25,223.7969 C228.8281,223.7969 229.4375,223.9531 229.9063,224.2031 C230.3906,224.4844 230.5625,224.7031 230.6563,225.1094 C230.7188,225.5156 230.75,225.6406 230.8906,225.7656 C231.0313,225.9063 231.2656,226.0156 231.4844,226.0156 C231.75,226.0156 232.0156,225.875 232.1875,225.6563 C232.2969,225.5 232.3281,225.3125 232.3281,224.8906 L232.3281,223.4688 C232.3281,223.0313 232.3125,222.9063 232.2188,222.75 C232.0625,222.4844 231.7813,222.3438 231.4844,222.3438 C231.1875,222.3438 230.9844,222.4375 230.7656,222.75 L230.5938,222.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="248.75" y="231.1543">ResponseCreator</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="562" y1="243" y2="243"/><ellipse cx="18" cy="254" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="27" y="257.2104">status: number</text><ellipse cx="18" cy="266.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="27" y="270.0151">responseData: Response</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="562" y1="276.6094" y2="276.6094"/><ellipse cx="18" cy="287.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="27" y="290.8198">setResponse(context: Context): void</text><ellipse cx="18" cy="300.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="318" x="27" y="303.6245">createsSuccessResponse(data?: any): ResponseCreator</text><ellipse cx="18" cy="313.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="369" x="27" y="316.4292">createsErrorResponse(data?: any, info?: string): ResponseCreator</text><ellipse cx="18" cy="326.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="530" x="27" y="329.2339">createErrorResponseService(data?: any, serviceResult: ServiceResult&lt;T&gt;): ResponseCreator</text><!--MD5=[4f36f9ea3493a30a0dc61f27e6db2bdf]
class _Util--><rect codeLine="32" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="112.0234" id="_Util" style="stroke:#A80036;stroke-width:1.5;" width="250" x="598" y="217.5"/><ellipse cx="706.25" cy="233.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M708.5938,229.1719 C707.6563,228.7344 707.0625,228.5938 706.1875,228.5938 C703.5625,228.5938 701.5625,230.6719 701.5625,233.3906 L701.5625,234.5156 C701.5625,237.0938 703.6719,238.9844 706.5625,238.9844 C707.7813,238.9844 708.9375,238.6875 709.6875,238.1406 C710.2656,237.7344 710.5938,237.2813 710.5938,236.8906 C710.5938,236.4375 710.2031,236.0469 709.7344,236.0469 C709.5156,236.0469 709.3125,236.125 709.125,236.3125 C708.6719,236.7969 708.6719,236.7969 708.4844,236.8906 C708.0625,237.1563 707.375,237.2813 706.6094,237.2813 C704.5625,237.2813 703.2656,236.1875 703.2656,234.4844 L703.2656,233.3906 C703.2656,231.6094 704.5156,230.2969 706.25,230.2969 C706.8281,230.2969 707.4375,230.4531 707.9063,230.7031 C708.3906,230.9844 708.5625,231.2031 708.6563,231.6094 C708.7188,232.0156 708.75,232.1406 708.8906,232.2656 C709.0313,232.4063 709.2656,232.5156 709.4844,232.5156 C709.75,232.5156 710.0156,232.375 710.1875,232.1563 C710.2969,232 710.3281,231.8125 710.3281,231.3906 L710.3281,229.9688 C710.3281,229.5313 710.3125,229.4063 710.2188,229.25 C710.0625,228.9844 709.7813,228.8438 709.4844,228.8438 C709.1875,228.8438 708.9844,228.9375 708.7656,229.25 L708.5938,229.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="25" x="726.75" y="237.6543">_Util</text><line style="stroke:#A80036;stroke-width:1.5;" x1="599" x2="847" y1="249.5" y2="249.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="599" x2="847" y1="257.5" y2="257.5"/><ellipse cx="609" cy="268.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="618" y="271.7104">hash(data: string | Buffer): string</text><ellipse cx="609" cy="281.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="618" y="284.5151">getCurrentTimestamp(): number</text><ellipse cx="609" cy="294.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="222" x="618" y="297.3198">secondsToMinutes(v: number): number</text><ellipse cx="609" cy="306.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="618" y="310.1245">getBaseUrl(req: HttpRequest): string</text><ellipse cx="609" cy="319.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="618" y="322.9292">isProduction(req: HttpRequest): boolean</text><!--MD5=[a716d834c9fc8c0bf0278f6285498a8c]
class Pin--><rect codeLine="39" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="124.8281" id="Pin" style="stroke:#A80036;stroke-width:1.5;" width="529" x="883.5" y="211"/><ellipse cx="1135.75" cy="227" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1138.0938,222.6719 C1137.1563,222.2344 1136.5625,222.0938 1135.6875,222.0938 C1133.0625,222.0938 1131.0625,224.1719 1131.0625,226.8906 L1131.0625,228.0156 C1131.0625,230.5938 1133.1719,232.4844 1136.0625,232.4844 C1137.2813,232.4844 1138.4375,232.1875 1139.1875,231.6406 C1139.7656,231.2344 1140.0938,230.7813 1140.0938,230.3906 C1140.0938,229.9375 1139.7031,229.5469 1139.2344,229.5469 C1139.0156,229.5469 1138.8125,229.625 1138.625,229.8125 C1138.1719,230.2969 1138.1719,230.2969 1137.9844,230.3906 C1137.5625,230.6563 1136.875,230.7813 1136.1094,230.7813 C1134.0625,230.7813 1132.7656,229.6875 1132.7656,227.9844 L1132.7656,226.8906 C1132.7656,225.1094 1134.0156,223.7969 1135.75,223.7969 C1136.3281,223.7969 1136.9375,223.9531 1137.4063,224.2031 C1137.8906,224.4844 1138.0625,224.7031 1138.1563,225.1094 C1138.2188,225.5156 1138.25,225.6406 1138.3906,225.7656 C1138.5313,225.9063 1138.7656,226.0156 1138.9844,226.0156 C1139.25,226.0156 1139.5156,225.875 1139.6875,225.6563 C1139.7969,225.5 1139.8281,225.3125 1139.8281,224.8906 L1139.8281,223.4688 C1139.8281,223.0313 1139.8125,222.9063 1139.7188,222.75 C1139.5625,222.4844 1139.2813,222.3438 1138.9844,222.3438 C1138.6875,222.3438 1138.4844,222.4375 1138.2656,222.75 L1138.0938,222.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="16" x="1156.25" y="231.1543">Pin</text><line style="stroke:#A80036;stroke-width:1.5;" x1="884.5" x2="1411.5" y1="243" y2="243"/><ellipse cx="894.5" cy="254" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="903.5" y="257.2104">id: number</text><ellipse cx="894.5" cy="266.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="903.5" y="270.0151">latitude: number</text><ellipse cx="894.5" cy="279.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="903.5" y="282.8198">longitude: number</text><ellipse cx="894.5" cy="292.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="903.5" y="295.6245">photo_filename: string</text><ellipse cx="894.5" cy="305.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="903.5" y="308.4292">user: User</text><line style="stroke:#A80036;stroke-width:1.5;" x1="884.5" x2="1411.5" y1="315.0234" y2="315.0234"/><ellipse cx="894.5" cy="326.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="503" x="903.5" y="329.2339">setDefault(latitude: number, longitude: number, photo_filename: string, user: User): void</text><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect codeLine="47" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="188.8516" id="User" style="stroke:#A80036;stroke-width:1.5;" width="408" x="1448" y="179"/><ellipse cx="1633.25" cy="195" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1635.5938,190.6719 C1634.6563,190.2344 1634.0625,190.0938 1633.1875,190.0938 C1630.5625,190.0938 1628.5625,192.1719 1628.5625,194.8906 L1628.5625,196.0156 C1628.5625,198.5938 1630.6719,200.4844 1633.5625,200.4844 C1634.7813,200.4844 1635.9375,200.1875 1636.6875,199.6406 C1637.2656,199.2344 1637.5938,198.7813 1637.5938,198.3906 C1637.5938,197.9375 1637.2031,197.5469 1636.7344,197.5469 C1636.5156,197.5469 1636.3125,197.625 1636.125,197.8125 C1635.6719,198.2969 1635.6719,198.2969 1635.4844,198.3906 C1635.0625,198.6563 1634.375,198.7813 1633.6094,198.7813 C1631.5625,198.7813 1630.2656,197.6875 1630.2656,195.9844 L1630.2656,194.8906 C1630.2656,193.1094 1631.5156,191.7969 1633.25,191.7969 C1633.8281,191.7969 1634.4375,191.9531 1634.9063,192.2031 C1635.3906,192.4844 1635.5625,192.7031 1635.6563,193.1094 C1635.7188,193.5156 1635.75,193.6406 1635.8906,193.7656 C1636.0313,193.9063 1636.2656,194.0156 1636.4844,194.0156 C1636.75,194.0156 1637.0156,193.875 1637.1875,193.6563 C1637.2969,193.5 1637.3281,193.3125 1637.3281,192.8906 L1637.3281,191.4688 C1637.3281,191.0313 1637.3125,190.9063 1637.2188,190.75 C1637.0625,190.4844 1636.7813,190.3438 1636.4844,190.3438 C1636.1875,190.3438 1635.9844,190.4375 1635.7656,190.75 L1635.5938,190.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="29" x="1653.75" y="199.1543">User</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1449" x2="1855" y1="211" y2="211"/><ellipse cx="1459" cy="222" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="1468" y="225.2104">id: number</text><ellipse cx="1459" cy="234.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="1468" y="238.0151">googleId: string</text><ellipse cx="1459" cy="247.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="1468" y="250.8198">displayName: string</text><ellipse cx="1459" cy="260.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="1468" y="263.6245">score: number</text><ellipse cx="1459" cy="273.2188" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="1468" y="276.4292">premium: boolean</text><ellipse cx="1459" cy="286.0234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="1468" y="289.2339">email: string</text><ellipse cx="1459" cy="298.8281" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="1468" y="302.0386">photosLeft: number</text><ellipse cx="1459" cy="311.6328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="1468" y="314.8433">lastPhotoTimestamp: number</text><ellipse cx="1459" cy="324.4375" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="1468" y="327.6479">pins: Pin[]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1449" x2="1855" y1="334.2422" y2="334.2422"/><ellipse cx="1459" cy="345.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="382" x="1468" y="348.4526">setDefault(googleId: string, displayName: string, email: string): void</text><ellipse cx="1459" cy="358.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="1468" y="361.2573">resetPhotosLeft(): void</text><!--MD5=[6af62609eb811f90c91208b8103dfc03]
class _DatabaseConnection--><rect codeLine="60" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="112.0234" id="_DatabaseConnection" style="stroke:#A80036;stroke-width:1.5;" width="216" x="177" y="453.5"/><ellipse cx="216.3" cy="469.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M218.6438,465.1719 C217.7063,464.7344 217.1125,464.5938 216.2375,464.5938 C213.6125,464.5938 211.6125,466.6719 211.6125,469.3906 L211.6125,470.5156 C211.6125,473.0938 213.7219,474.9844 216.6125,474.9844 C217.8313,474.9844 218.9875,474.6875 219.7375,474.1406 C220.3156,473.7344 220.6438,473.2813 220.6438,472.8906 C220.6438,472.4375 220.2531,472.0469 219.7844,472.0469 C219.5656,472.0469 219.3625,472.125 219.175,472.3125 C218.7219,472.7969 218.7219,472.7969 218.5344,472.8906 C218.1125,473.1563 217.425,473.2813 216.6594,473.2813 C214.6125,473.2813 213.3156,472.1875 213.3156,470.4844 L213.3156,469.3906 C213.3156,467.6094 214.5656,466.2969 216.3,466.2969 C216.8781,466.2969 217.4875,466.4531 217.9563,466.7031 C218.4406,466.9844 218.6125,467.2031 218.7063,467.6094 C218.7688,468.0156 218.8,468.1406 218.9406,468.2656 C219.0813,468.4063 219.3156,468.5156 219.5344,468.5156 C219.8,468.5156 220.0656,468.375 220.2375,468.1563 C220.3469,468 220.3781,467.8125 220.3781,467.3906 L220.3781,465.9688 C220.3781,465.5313 220.3625,465.4063 220.2688,465.25 C220.1125,464.9844 219.8313,464.8438 219.5344,464.8438 C219.2375,464.8438 219.0344,464.9375 218.8156,465.25 L218.6438,465.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130" x="235.7" y="473.6543">_DatabaseConnection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="178" x2="392" y1="485.5" y2="485.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="185" y="493.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="197" y="499.7104">_initialized: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="185" y="506.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="197" y="512.5151">_connection: typeorm.Connection</text><ellipse cx="188" cy="522.1094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="197" y="525.3198">isInitialized: Boolean</text><ellipse cx="188" cy="534.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="197" y="538.1245">Connection: typeorm.Connection</text><line style="stroke:#A80036;stroke-width:1.5;" x1="178" x2="392" y1="544.7188" y2="544.7188"/><ellipse cx="188" cy="555.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="150" x="197" y="558.9292">initialize(): Promise&lt;void&gt;</text><!--MD5=[b618c77cbf415a544c612c5502aef934]
class _UserService--><rect codeLine="67" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="73.6094" id="_UserService" style="stroke:#A80036;stroke-width:1.5;" width="328" x="428" y="472.5"/><ellipse cx="547.25" cy="488.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M549.5938,484.1719 C548.6563,483.7344 548.0625,483.5938 547.1875,483.5938 C544.5625,483.5938 542.5625,485.6719 542.5625,488.3906 L542.5625,489.5156 C542.5625,492.0938 544.6719,493.9844 547.5625,493.9844 C548.7813,493.9844 549.9375,493.6875 550.6875,493.1406 C551.2656,492.7344 551.5938,492.2813 551.5938,491.8906 C551.5938,491.4375 551.2031,491.0469 550.7344,491.0469 C550.5156,491.0469 550.3125,491.125 550.125,491.3125 C549.6719,491.7969 549.6719,491.7969 549.4844,491.8906 C549.0625,492.1563 548.375,492.2813 547.6094,492.2813 C545.5625,492.2813 544.2656,491.1875 544.2656,489.4844 L544.2656,488.3906 C544.2656,486.6094 545.5156,485.2969 547.25,485.2969 C547.8281,485.2969 548.4375,485.4531 548.9063,485.7031 C549.3906,485.9844 549.5625,486.2031 549.6563,486.6094 C549.7188,487.0156 549.75,487.1406 549.8906,487.2656 C550.0313,487.4063 550.2656,487.5156 550.4844,487.5156 C550.75,487.5156 551.0156,487.375 551.1875,487.1563 C551.2969,487 551.3281,486.8125 551.3281,486.3906 L551.3281,484.9688 C551.3281,484.5313 551.3125,484.4063 551.2188,484.25 C551.0625,483.9844 550.7813,483.8438 550.4844,483.8438 C550.1875,483.8438 549.9844,483.9375 549.7656,484.25 L549.5938,484.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="567.75" y="492.6543">_UserService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="429" x2="755" y1="504.5" y2="504.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="429" x2="755" y1="512.5" y2="512.5"/><ellipse cx="439" cy="523.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="302" x="448" y="526.7104">getUserByGoogleId(googleId: string): Promise&lt;User&gt;</text><ellipse cx="439" cy="536.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="222" x="448" y="539.5151">getUserById(id: string): Promise&lt;User&gt;</text><!--MD5=[89712d7c78b513a9ea393a751b8e1c59]
class ImageService--><rect codeLine="71" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="163.2422" id="ImageService" style="stroke:#A80036;stroke-width:1.5;" width="357" x="791.5" y="428"/><ellipse cx="924.25" cy="444" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M926.5938,439.6719 C925.6563,439.2344 925.0625,439.0938 924.1875,439.0938 C921.5625,439.0938 919.5625,441.1719 919.5625,443.8906 L919.5625,445.0156 C919.5625,447.5938 921.6719,449.4844 924.5625,449.4844 C925.7813,449.4844 926.9375,449.1875 927.6875,448.6406 C928.2656,448.2344 928.5938,447.7813 928.5938,447.3906 C928.5938,446.9375 928.2031,446.5469 927.7344,446.5469 C927.5156,446.5469 927.3125,446.625 927.125,446.8125 C926.6719,447.2969 926.6719,447.2969 926.4844,447.3906 C926.0625,447.6563 925.375,447.7813 924.6094,447.7813 C922.5625,447.7813 921.2656,446.6875 921.2656,444.9844 L921.2656,443.8906 C921.2656,442.1094 922.5156,440.7969 924.25,440.7969 C924.8281,440.7969 925.4375,440.9531 925.9063,441.2031 C926.3906,441.4844 926.5625,441.7031 926.6563,442.1094 C926.7188,442.5156 926.75,442.6406 926.8906,442.7656 C927.0313,442.9063 927.2656,443.0156 927.4844,443.0156 C927.75,443.0156 928.0156,442.875 928.1875,442.6563 C928.2969,442.5 928.3281,442.3125 928.3281,441.8906 L928.3281,440.4688 C928.3281,440.0313 928.3125,439.9063 928.2188,439.75 C928.0625,439.4844 927.7813,439.3438 927.4844,439.3438 C927.1875,439.3438 926.9844,439.4375 926.7656,439.75 L926.5938,439.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="944.75" y="448.1543">ImageService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="792.5" x2="1147.5" y1="460" y2="460"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="799.5" y="468"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="811.5" y="474.2104">context: Context</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="799.5" y="480.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="811.5" y="487.0151">req: HttpRequest</text><ellipse cx="802.5" cy="496.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="811.5" y="499.8198">BaseDir: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="799.5" y="506.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="811.5" y="512.6245">FileExtension: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="799.5" y="519.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="141" x="811.5" y="525.4292">_instance: ImageService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="792.5" x2="1147.5" y1="532.0234" y2="532.0234"/><ellipse cx="802.5" cy="543.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="811.5" y="546.2339">formatPath(filename: any): string</text><ellipse cx="802.5" cy="555.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="331" x="811.5" y="559.0386">save(base64data: string, filename: string): Promise&lt;void&gt;</text><ellipse cx="802.5" cy="568.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="811.5" y="571.8433">getUrl(filename: string): string</text><ellipse cx="802.5" cy="581.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="312" x="811.5" y="584.6479">get(context: Context, req: HttpRequest): ImageService</text><!--MD5=[a38ec337213acb11c8a2cf5db96feda4]
class CognitiveServiceCategory--><rect codeLine="82" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="73.6094" id="CognitiveServiceCategory" style="stroke:#A80036;stroke-width:1.5;" width="186" x="1184" y="472.5"/><ellipse cx="1199" cy="488.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1199.9531,485.2813 L1201.6719,485.2813 C1202.0625,485.2813 1202.25,485.25 1202.375,485.1719 C1202.6406,485.0156 1202.7813,484.7344 1202.7813,484.4375 C1202.7813,484.1719 1202.6719,483.9063 1202.4375,483.7344 C1202.2656,483.625 1202.125,483.5938 1201.6719,483.5938 L1196.5313,483.5938 C1196.0938,483.5938 1195.9688,483.6094 1195.8125,483.7031 C1195.5625,483.8594 1195.4063,484.1563 1195.4063,484.4375 C1195.4063,484.7188 1195.5469,484.9688 1195.7656,485.1406 C1195.9219,485.25 1196.1094,485.2813 1196.5313,485.2813 L1198.25,485.2813 L1198.25,491.7969 L1196.5313,491.7969 C1196.0938,491.7969 1195.9688,491.8125 1195.8125,491.9219 C1195.5625,492.0781 1195.4063,492.3594 1195.4063,492.6563 C1195.4063,492.9063 1195.5469,493.1719 1195.7656,493.3281 C1195.9219,493.4531 1196.125,493.5 1196.5313,493.5 L1201.6719,493.5 C1202.4219,493.5 1202.7813,493.2188 1202.7813,492.6563 C1202.7813,492.375 1202.6719,492.125 1202.4375,491.9531 C1202.2656,491.8281 1202.125,491.7969 1201.6719,491.7969 L1199.9531,491.7969 L1199.9531,485.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="154" x="1213" y="492.6543">CognitiveServiceCategory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1185" x2="1369" y1="504.5" y2="504.5"/><ellipse cx="1195" cy="515.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="1204" y="518.7104">name: string</text><ellipse cx="1195" cy="528.3047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="1204" y="531.5151">score: number</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1185" x2="1369" y1="538.1094" y2="538.1094"/><!--MD5=[c0fd137bfb0127e54d6e114554d6bd51]
class CognitiveServiceResponse--><rect codeLine="86" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="73.6094" id="CognitiveServiceResponse" style="stroke:#A80036;stroke-width:1.5;" width="251" x="159.5" y="689"/><ellipse cx="202.4" cy="705" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M203.3531,701.7813 L205.0719,701.7813 C205.4625,701.7813 205.65,701.75 205.775,701.6719 C206.0406,701.5156 206.1813,701.2344 206.1813,700.9375 C206.1813,700.6719 206.0719,700.4063 205.8375,700.2344 C205.6656,700.125 205.525,700.0938 205.0719,700.0938 L199.9313,700.0938 C199.4938,700.0938 199.3688,700.1094 199.2125,700.2031 C198.9625,700.3594 198.8063,700.6563 198.8063,700.9375 C198.8063,701.2188 198.9469,701.4688 199.1656,701.6406 C199.3219,701.75 199.5094,701.7813 199.9313,701.7813 L201.65,701.7813 L201.65,708.2969 L199.9313,708.2969 C199.4938,708.2969 199.3688,708.3125 199.2125,708.4219 C198.9625,708.5781 198.8063,708.8594 198.8063,709.1563 C198.8063,709.4063 198.9469,709.6719 199.1656,709.8281 C199.3219,709.9531 199.525,710 199.9313,710 L205.0719,710 C205.8219,710 206.1813,709.7188 206.1813,709.1563 C206.1813,708.875 206.0719,708.625 205.8375,708.4531 C205.6656,708.3281 205.525,708.2969 205.0719,708.2969 L203.3531,708.2969 L203.3531,701.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="157" x="222.6" y="709.1543">CognitiveServiceResponse</text><line style="stroke:#A80036;stroke-width:1.5;" x1="160.5" x2="409.5" y1="721" y2="721"/><ellipse cx="170.5" cy="732" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="179.5" y="735.2104">imageUrl: string</text><ellipse cx="170.5" cy="744.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="225" x="179.5" y="748.0151">categories: CognitiveServiceCategory[]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="160.5" x2="409.5" y1="754.6094" y2="754.6094"/><!--MD5=[b34aec5a510031dfa4f1490d3d7958d0]
class _CognitiveService--><rect codeLine="90" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="124.8281" id="_CognitiveService" style="stroke:#A80036;stroke-width:1.5;" width="1088" x="446" y="663.5"/><ellipse cx="931.75" cy="679.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M934.0938,675.1719 C933.1563,674.7344 932.5625,674.5938 931.6875,674.5938 C929.0625,674.5938 927.0625,676.6719 927.0625,679.3906 L927.0625,680.5156 C927.0625,683.0938 929.1719,684.9844 932.0625,684.9844 C933.2813,684.9844 934.4375,684.6875 935.1875,684.1406 C935.7656,683.7344 936.0938,683.2813 936.0938,682.8906 C936.0938,682.4375 935.7031,682.0469 935.2344,682.0469 C935.0156,682.0469 934.8125,682.125 934.625,682.3125 C934.1719,682.7969 934.1719,682.7969 933.9844,682.8906 C933.5625,683.1563 932.875,683.2813 932.1094,683.2813 C930.0625,683.2813 928.7656,682.1875 928.7656,680.4844 L928.7656,679.3906 C928.7656,677.6094 930.0156,676.2969 931.75,676.2969 C932.3281,676.2969 932.9375,676.4531 933.4063,676.7031 C933.8906,676.9844 934.0625,677.2031 934.1563,677.6094 C934.2188,678.0156 934.25,678.1406 934.3906,678.2656 C934.5313,678.4063 934.7656,678.5156 934.9844,678.5156 C935.25,678.5156 935.5156,678.375 935.6875,678.1563 C935.7969,678 935.8281,677.8125 935.8281,677.3906 L935.8281,675.9688 C935.8281,675.5313 935.8125,675.4063 935.7188,675.25 C935.5625,674.9844 935.2813,674.8438 934.9844,674.8438 C934.6875,674.8438 934.4844,674.9375 934.2656,675.25 L934.0938,675.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="952.25" y="683.6543">_CognitiveService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="447" x2="1533" y1="695.5" y2="695.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="454" y="703.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="477" x="466" y="709.7104">cognitiveServicesParams: { visualFeatures: string; details: string; language: string; }</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="454" y="716.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="466" y="722.5151">subscriptionKey: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="454" y="729.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="466" y="735.3198">uriBase: string</text><line style="stroke:#A80036;stroke-width:1.5;" x1="447" x2="1533" y1="741.9141" y2="741.9141"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="454" y="749.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="1062" x="466" y="756.1245">options(imageUrl: string): { uri: string; qs: { visualFeatures: string; details: string; language: string; }; body: string; headers: { 'Content-Type': string; 'Ocp-Apim-Subscription-Key': string; }; }</text><ellipse cx="457" cy="765.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="437" x="466" y="768.9292">recognizeImageRaw(imageUrl: string): Promise&lt;CognitiveServiceResponse&gt;</text><ellipse cx="457" cy="778.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="352" x="466" y="781.7339">recognizeImageAsCloud(imageUrl: string): Promise&lt;boolean&gt;</text><!--MD5=[0eafc39d9db33d03fe2be69b07e73775]
class PinService--><rect codeLine="98" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="150.4375" id="PinService" style="stroke:#A80036;stroke-width:1.5;" width="815" x="1569.5" y="651"/><ellipse cx="1941.75" cy="667" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1944.0938,662.6719 C1943.1563,662.2344 1942.5625,662.0938 1941.6875,662.0938 C1939.0625,662.0938 1937.0625,664.1719 1937.0625,666.8906 L1937.0625,668.0156 C1937.0625,670.5938 1939.1719,672.4844 1942.0625,672.4844 C1943.2813,672.4844 1944.4375,672.1875 1945.1875,671.6406 C1945.7656,671.2344 1946.0938,670.7813 1946.0938,670.3906 C1946.0938,669.9375 1945.7031,669.5469 1945.2344,669.5469 C1945.0156,669.5469 1944.8125,669.625 1944.625,669.8125 C1944.1719,670.2969 1944.1719,670.2969 1943.9844,670.3906 C1943.5625,670.6563 1942.875,670.7813 1942.1094,670.7813 C1940.0625,670.7813 1938.7656,669.6875 1938.7656,667.9844 L1938.7656,666.8906 C1938.7656,665.1094 1940.0156,663.7969 1941.75,663.7969 C1942.3281,663.7969 1942.9375,663.9531 1943.4063,664.2031 C1943.8906,664.4844 1944.0625,664.7031 1944.1563,665.1094 C1944.2188,665.5156 1944.25,665.6406 1944.3906,665.7656 C1944.5313,665.9063 1944.7656,666.0156 1944.9844,666.0156 C1945.25,666.0156 1945.5156,665.875 1945.6875,665.6563 C1945.7969,665.5 1945.8281,665.3125 1945.8281,664.8906 L1945.8281,663.4688 C1945.8281,663.0313 1945.8125,662.9063 1945.7188,662.75 C1945.5625,662.4844 1945.2813,662.3438 1944.9844,662.3438 C1944.6875,662.3438 1944.4844,662.4375 1944.2656,662.75 L1944.0938,662.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="1962.25" y="671.1543">PinService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1570.5" x2="2383.5" y1="683" y2="683"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1577.5" y="691"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="1589.5" y="697.2104">context: Context</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1577.5" y="703.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="1589.5" y="710.0151">req: HttpRequest</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1577.5" y="716.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="121" x="1589.5" y="722.8198">_instance: PinService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1570.5" x2="2383.5" y1="729.4141" y2="729.4141"/><ellipse cx="1580.5" cy="740.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="789" x="1589.5" y="743.6245">addPin(user: User, lat: string, long: string, base64dataOfImage: string, skipCognitiveService?: boolean): Promise&lt;ServiceResult&lt;number&gt;&gt;</text><ellipse cx="1580.5" cy="753.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="232" x="1589.5" y="756.4292">getPinById(pinId: number): Promise&lt;Pin&gt;</text><ellipse cx="1580.5" cy="766.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="1589.5" y="769.2339">getAllPins(): Promise&lt;Pin[]&gt;</text><ellipse cx="1580.5" cy="778.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="523" x="1589.5" y="782.0386">getAllPinsInArea(lat1: number, long1: number, lat2: number, long2: number): Promise&lt;Pin[]&gt;</text><ellipse cx="1580.5" cy="791.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="292" x="1589.5" y="794.8433">get(context: Context, req: HttpRequest): PinService</text><!--MD5=[f0667fd037a63c0cadc237bb7c504773]
class _LogService--><rect codeLine="108" fill="#FEFECE" filter="url(#f112zz2acdnmga)" height="60.8047" id="_LogService" style="stroke:#A80036;stroke-width:1.5;" width="236" x="2420" y="695.5"/><ellipse cx="2496.75" cy="711.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2499.0938,707.1719 C2498.1563,706.7344 2497.5625,706.5938 2496.6875,706.5938 C2494.0625,706.5938 2492.0625,708.6719 2492.0625,711.3906 L2492.0625,712.5156 C2492.0625,715.0938 2494.1719,716.9844 2497.0625,716.9844 C2498.2813,716.9844 2499.4375,716.6875 2500.1875,716.1406 C2500.7656,715.7344 2501.0938,715.2813 2501.0938,714.8906 C2501.0938,714.4375 2500.7031,714.0469 2500.2344,714.0469 C2500.0156,714.0469 2499.8125,714.125 2499.625,714.3125 C2499.1719,714.7969 2499.1719,714.7969 2498.9844,714.8906 C2498.5625,715.1563 2497.875,715.2813 2497.1094,715.2813 C2495.0625,715.2813 2493.7656,714.1875 2493.7656,712.4844 L2493.7656,711.3906 C2493.7656,709.6094 2495.0156,708.2969 2496.75,708.2969 C2497.3281,708.2969 2497.9375,708.4531 2498.4063,708.7031 C2498.8906,708.9844 2499.0625,709.2031 2499.1563,709.6094 C2499.2188,710.0156 2499.25,710.1406 2499.3906,710.2656 C2499.5313,710.4063 2499.7656,710.5156 2499.9844,710.5156 C2500.25,710.5156 2500.5156,710.375 2500.6875,710.1563 C2500.7969,710 2500.8281,709.8125 2500.8281,709.3906 L2500.8281,707.9688 C2500.8281,707.5313 2500.8125,707.4063 2500.7188,707.25 C2500.5625,706.9844 2500.2813,706.8438 2499.9844,706.8438 C2499.6875,706.8438 2499.4844,706.9375 2499.2656,707.25 L2499.0938,707.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="2517.25" y="715.6543">_LogService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2421" x2="2655" y1="727.5" y2="727.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2421" x2="2655" y1="735.5" y2="735.5"/><ellipse cx="2431" cy="746.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="210" x="2440" y="749.7104">log(tag: string, message: string): void</text><!--MD5=[54bd1ae616c88ef9bd7cbf64bcbd2f83]
link ErrorCodes to ServiceResult--><!--MD5=[c4c8bb4a0483983c99d6e7a3a53cd1bc]
link ServiceResult to ResponseMeta--><!--MD5=[080d6d79ef276743e2bc0ef0e36e274c]
link ResponseMeta to Response--><!--MD5=[9ef1a3a596372027d489d68b3369edc6]
link ErrorCodes to ResponseCreator--><!--MD5=[8067ef46e4636d556f75cdb8c65a7687]
link ResponseCreator to _Util--><!--MD5=[04c9732b7bf6af2e993cc9449c2aa4df]
link _Util to Pin--><!--MD5=[fd27d2383a95e0b4fb0c46396a4e2794]
link Pin to User--><!--MD5=[b1855c8de1031a794366c1aa1663e76d]
link ResponseCreator to _DatabaseConnection--><!--MD5=[7ab4958c915e09a9adddb9c1bb963901]
link _DatabaseConnection to _UserService--><!--MD5=[413187f17d92f9baba5700146640f194]
link _UserService to ImageService--><!--MD5=[a01e4c603f098d1b5235e64df1e5f744]
link ImageService to CognitiveServiceCategory--><!--MD5=[4219d08877615a3de3abac97ecffccbc]
link _DatabaseConnection to CognitiveServiceResponse--><!--MD5=[9f52fcb44211ee18762fcd095662f75f]
link CognitiveServiceResponse to _CognitiveService--><!--MD5=[1d94a91ba388a5759fb6a0bca9ec57cd]
link _CognitiveService to PinService--><!--MD5=[9bb6e3e04209bdef549b7a7ee7bf5a24]
link PinService to _LogService--><!--MD5=[f9ea8bed6740578097e51c4d91ccb335]
@startuml
enum ErrorCodes {
    Ok
    SomethingGetsWrong
    RequireArgument
    AddPinTooSmallOffset
    AddPinImageDoNotRepresentCloud
}
interface ServiceResult<T> {
    +result: boolean
    +value?: T
    +errorCode?: number
    +info: string
}
interface ResponseMeta {
    +success: boolean
    +info?: string
    +info_request_body?: string
    +error_code: number
}
interface Response {
    +data: any
    +meta: ResponseMeta
}
class ResponseCreator {
    +status: number
    +responseData: Response
    +setResponse(context: Context): void
    +{static} createsSuccessResponse(data?: any): ResponseCreator
    +{static} createsErrorResponse(data?: any, info?: string): ResponseCreator
    +{static} createErrorResponseService(data?: any, serviceResult: ServiceResult<T>): ResponseCreator
}
class _Util {
    +hash(data: string | Buffer): string
    +getCurrentTimestamp(): number
    +secondsToMinutes(v: number): number
    +getBaseUrl(req: HttpRequest): string
    +isProduction(req: HttpRequest): boolean
}
class Pin {
    +id: number
    +latitude: number
    +longitude: number
    +photo_filename: string
    +user: User
    +setDefault(latitude: number, longitude: number, photo_filename: string, user: User): void
}
class User {
    +id: number
    +googleId: string
    +displayName: string
    +score: number
    +premium: boolean
    +email: string
    +photosLeft: number
    +lastPhotoTimestamp: number
    +pins: Pin[]
    +setDefault(googleId: string, displayName: string, email: string): void
    +resetPhotosLeft(): void
}
class _DatabaseConnection {
    -_initialized: boolean
    -_connection: typeorm.Connection
    +initialize(): Promise<void>
    +isInitialized: Boolean
    +Connection: typeorm.Connection
}
class _UserService {
    +getUserByGoogleId(googleId: string): Promise<User>
    +getUserById(id: string): Promise<User>
}
class ImageService {
    -context: Context
    -req: HttpRequest
    +BaseDir: string
    -FileExtension: string
    +formatPath(filename: any): string
    +save(base64data: string, filename: string): Promise<void>
    +getUrl(filename: string): string
    -{static} _instance: ImageService
    +{static} get(context: Context, req: HttpRequest): ImageService
}
interface CognitiveServiceCategory {
    +name: string
    +score: number
}
interface CognitiveServiceResponse {
    +imageUrl: string
    +categories: CognitiveServiceCategory[]
}
class _CognitiveService {
    -cognitiveServicesParams: { visualFeatures: string; details: string; language: string; }
    -subscriptionKey: string
    -uriBase: string
    -options(imageUrl: string): { uri: string; qs: { visualFeatures: string; details: string; language: string; }; body: string; headers: { 'Content-Type': string; 'Ocp-Apim-Subscription-Key': string; }; }
    +recognizeImageRaw(imageUrl: string): Promise<CognitiveServiceResponse>
    +recognizeImageAsCloud(imageUrl: string): Promise<boolean>
}
class PinService {
    -context: Context
    -req: HttpRequest
    +addPin(user: User, lat: string, long: string, base64dataOfImage: string, skipCognitiveService?: boolean): Promise<ServiceResult<number>>
    +getPinById(pinId: number): Promise<Pin>
    +getAllPins(): Promise<Pin[]>
    +getAllPinsInArea(lat1: number, long1: number, lat2: number, long2: number): Promise<Pin[]>
    -{static} _instance: PinService
    +{static} get(context: Context, req: HttpRequest): PinService
}
class _LogService {
    +log(tag: string, message: string): void
}
@enduml

PlantUML version 1.2021.01beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>